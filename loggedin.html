<head>
</head>

<body>


	
	
	
	
</body>

<template name="userhome">
	{{> userhomeheader}}
	<div class="belowheadercontainer">
	{{> userhomeleftmenu}}
	{{#if loggedInPageIs "welcomeuser"}}
		{{> welcomeuser }}
	{{/if}}
	{{#if loggedInPageIs "newalbum"}}
		{{> newalbum }}
	{{/if}}
	{{#if loggedInPageIs "seeall"}}
		{{> seeall }}
	{{/if}}
	{{#if loggedInPageIs "viewalbum"}}
		{{> viewalbum }}
	{{/if}}
	{{#if loggedInPageIs "viewphoto"}}
		{{> viewphoto }}
	{{/if}}
	{{#if loggedInPageIs "viewcontacts"}}
		{{> viewcontacts }}
	{{/if}}
	{{#if loggedInPageIs "viewinbox"}}
		{{> viewinbox }}
	{{/if}}
	{{#if loggedInPageIs "sendmessage"}}
		{{> sendmessage }}
	{{/if}}
	{{#if loggedInPageIs "photostream"}}
		{{> photostream }}
	{{/if}}
	</div>
</template>
<template name="userhomeheader">
	<div class="navbar navbar-fixed-top navbar-inverse">
	  <div class="navbar-inner">
	    <div class="container-fluid">
	      <span class="brand">
	        B and W
	      </span>
		  <ul class="nav">
			  <li class="{{newnotification}}dropdown" id="accountmenu">
                  <a id="notificationsbutton"class="dropdown-toggle" data-toggle="dropdown" href="#">Notifications{{numnewnotifications}}<b class="caret"></b></a>
				    <ul id="notificationspanel" style="display:{{notifications_panel_open}};">
					 <span style="width:100px"></span>
					 {{#each notifications}}
					                      <div class="notification"><span style="position: relative; top:20px">{{text}}</span> {{#if iscontactrequest type}}<button style="position: absolute; bottom:15px; left:250px" type="button" id="{{_id}}" class="btn btn-primary {{#if accepted}}disabled {{/if}}accept" data-loading-text="Loading..." >{{#if accepted}}Accepted{{else}}Accept{{/if}}</button>{{/if}}  </div>
					 {{/each}}
					
					
					 </ul>             
				
              </li>
			
		   </ul>

	      <form class="navbar-form pull-right">
			<span style="position:relative; top:4px;">Welcome, {{username}}</span>
	        <button class="btn btn-primary" id="logout">
	          Sign out
	        </button>
	      </form>
	    </div>
	  </div>
	</div>
	
</template>
<template name="userhomeleftmenu">
	
	<div class="leftmenu">	
		
		<div class="well sidebar-nav">
	        <ul class="nav nav-list">
	          <li class="nav-header">
	            Photo Actions
	          </li>
	          <li>
	          </li>
	
	          <li class="" id="photostream">
	            <a href="#">
	              Photostream
	            </a>
	          </li>
	
	          <li class="" id="newalbum">
	            <a href="#">
	              New Album
	            </a>
	          </li>
	          <li class="" id="seeall">
	            <a href="#">
	              All Albums
	            </a>
	          </li>
	        </ul>
	
	        <ul class="nav nav-list">
	          <li class="nav-header">
	            User Actions
	          </li>
	          <li class="" id="home">
		        <a href="#">
	              Home
	            </a>
	          </li>
	          <li class="" id="myaccount">
	            <a href="#">
	              My Account
	            </a>
	          </li>
	          <li class="" id="inbox">
	            <a href="#">
	              Inbox {{newmsgs}}
	            </a>
	          </li>
	          <li class="" id="sendmessage">
	            <a href="#">
	              Send Message
	            </a>
	          </li>
	          <li class="" id="contacts">
	            <a href="#">
	              Contacts
	            </a>
	          </li>
	        </ul>
	      </div>
	</div>
</template>

<template name="newalbum">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>
	          <h1>
	            New Album
	          </h1>
	          <p>
	            Pick a name for your new album!
	          </p>
				<input type="text" id="newalbumname" value="Enter an album name..." onfocus="setValue(this)" onblur="setValue(this)" class="inputbox"><br>
				<button type="button" id="newalbumbutton" class="btn btn-primary" data-loading-text="Loading..." >Create</button><h5><span id="newalbumerror"></span></h5>
	        </div>
		</div>
	</div>
</template>

<template name="welcomeuser">	
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>{{#if needtomakepw}}
					{{> newlyregistered}}
				  {{/if}}
	          <h1>
	            Welcome to B and W!
	          </h1>
	          <p>
	            This is a template for a simple marketing or informational website. It
	            includes a large callout called the hero unit and three supporting pieces
	            of content. Use it as a starting point to create something more unique.
	          </p>
	        </div>
	        <a class="btn btn-primary" href="#">
	          Learn more »
	        </a>
		</div>
	</div>
</template>
<template name="newlyregistered">
	<div id="newlyregistered">
		<h5>You should set a password below to allow your account to persist.</h5>
		<input type="password" id="pw1" value="Enter a username..." onfocus="setValue(this)" onblur="setValue(this)" class="inputbox"><br>
		<input type="password" id="pw2" value="Enter a password..." onfocus="setValue(this)" onblur="setValue(this)" class="inputbox"><br>
		<button type="button" id="loginUser" class="btn btn-primary" data-loading-text="Loading..." >Set Password</button><h5><span id="setpwerror"></span></h5>
		<hr>
	</div>
</template>

<template name="seeall">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>
	          <h2>
	            Your Albums <hr style="clear:both">
	          </h2>
				{{#each albums}}
					<div style="float:left; padding-right:5px; text-align: center"><a href="#"><img id="{{_id}}" src="{{albumcover}}" width="250" height="250" /></a><br><h4>{{name}}</h4><span style="position: relative;bottom:14px;font-size:14px">{{numphotos}} photos</span></div>
				{{/each}}
				<span style="clear: left; display: block;"></span>
	        </div>
		</div>
	</div>
</template>


<template name="viewalbum">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>
	          <h2>
	            Viewing Album: {{album.name}}</h2>Add a photo:<br><input type="text" id="newphotoURL" value="Enter a URL to a photo..." onfocus="setValue(this)" onblur="setValue(this)" class="inputbox">
				<button type="button" id="newphoto" class="btn btn-primary" data-loading-text="Loading..." >Add</button><h5><span id="newalbumerror"></span>
				<button type="button" id="sharealbum" class="btn btn-primary" data-loading-text="Loading..." >Share Album</button>
				<span id="sharealbumsuccess"></span></h5>
	 			<hr style="clear:both">
	          <br>
				{{#each photosFrom album}}
					<div style="float:left; padding: 4px"><a href="#"><img id="{{_id}}" class="photo" src="{{src}}" style="width: 190px; height:190px" /></a></div>
				{{/each}}
				<span style="clear: left; display: block;"></span>
	        </div>
		</div>
	</div>	
</template>

<template name="viewphoto">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>
	            <a class="btn btn-primary" href="#" id="returntoalbum">
		          ≪ Back to album
		        </a>
		<br><br>
			<div id="photoarea">
			  <img style="padding-bottom:5px;"src="{{photo.src}}" /><br>
			<a class="btn btn-primary" href="#" id="makealbumcover">
		          Use photo as album cover
		        </a><span style="position: absolute;"><span style="font-weight: bold; font-size: 12px; left:10px; position: relative;" id="updatecover"></span></span>    <br>
				<a class="btn btn-primary" href="#" id="photostreamphoto" photosrc="{{photo.src}}">
			          Post on photostream
			        </a>   <br>
			<h4>Comments</h4><hr>
			  {{#each comments}}
				<b>{{commentauthorname author_id}}</b>: {{text}} <br>
			  {{/each}}
			<br>
			  	<input type="text" style="width: 300px" id="newcomment" value="Add a comment..." onfocus="setValue(this)" onblur="setValue(this)" class="inputbox">
				<button type="button" id="newcommentbutton" class="btn btn-primary" data-loading-text="Loading..." >Post</button><h5><span id="newalbumerror">
				
			</div>
			
				
	        </div>
		</div>
	</div>
</template>

<template name="viewcontacts">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>
			<h2>Contacts</h2><hr>
			<h5>Add new contact:</h5><input type="text" id="newcontact" value="Enter a username..." onfocus="setValue(this)" onblur="setValue(this)" class="inputbox"><button type="button" id="newcontactbutton" class="btn btn-primary" data-loading-text="Loading..." >Send Contact Request</button><span id="newcontacterror" style="font-size:12px; font-weight:bold; left:4px; position:relative;"></span>
			<hr>
			<ul>
			{{#each contacts}}
			<li><b>{{username}}</b>
			{{/each}}
			</ul>	
	        </div>
		</div>
	</div>
</template>
<template name="viewinbox">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div class="inbox">
			<h2>Inbox</h2><hr>
			<ul>
			{{#each messages}}
			<li class="msg" i="{{_id}}"><b>{{from from_id}}: </b>{{body}}
			{{/each}}
			</ul>	
	        </div>
		</div>
	</div>
</template>
<template name="sendmessage">
	<div class="rightofmenu">
		<div class="hero-unit">
	        <div>
			<h2>Compose New Message</h2><hr>
			<h5>To:</h5> <textarea class="input-xlarge" id="messageto" rows="1" style="resize: none;"></textarea>	<br>
			<h5>Message:</h5> <textarea class="input-xlarge" id="messagebody" rows="5"></textarea>	<br>
			<button type="button" id="sendmessage" class="btn btn-primary" data-loading-text="Loading..." >Send</button><div style="font-weight: bold; font-size: 12px;"  id="sendmessageerror"></div>
	        </div>
		</div>
	</div>
</template>
<template name="photostream">
	<div class="photostreamrightofmenu">
		<div class="hero-unit">
	    <div class="photostream">
		{{#each news}}
		<div class="photostreamnews">
			<div class="news_left"><img src="{{getuserprofpic author_id}}" /></div>
			<div class="news_right">
				<div class="news_author"><b>{{getuserdisplayname author_id}}</b> {{text}} <b>{{album_name}}</b></div>
					<div class="news_content">
						{{#if typeisalbum type}}
							<div class="album_preview">
							{{#each previewphotosfrom album_id}}
								<a href="#"><img album_id="{{album_id}}" id="{{_id}}" class="album_preview_image" src="{{src}}"/></a>
							{{/each}}
							</div>
						{{/if}}
						{{#if typeisphoto type}}
							<a href="#"><img album_id="{{album_id}}" id="{{photo_id}}" class="photostream_photo" src="{{photo_src}}"/></a>
						{{/if}}

					</div>
			</div>	
		</div>
		<hr>
		{{/each}}

		
			
			

			
		
	    </div>
		</div>
	</div>
</template>